local beltData = {
	["ls_357"] = {
		Bone = "ValveBiped.Bip01_Pelvis",
		Data = {
			model = "models/weapons/w_iiopn357.mdl",
			pos = Vector(2, -8.2, -0),
			ang = Angle(90, 90, 90),
			scale = 0.9
		}
	},
	["ls_stunstick"] = {
		Bone = "ValveBiped.Bip01_Pelvis",
		Data = {
			model = "models/weapons/w_stunbaton.mdl",
			pos = Vector(2, -7.5, -3),
			ang = Angle(-100, 81, 45),
			scale = 1
		}
	},
	["ls_usp"] = {
		Bone = "ValveBiped.Bip01_Pelvis",
		Data = {
			model = "models/weapons/w_iiopnpistol.mdl",
			pos = Vector(2, -7.5, -0),
			ang = Angle(0, -180, 0),
			scale = 1
		}
	},
	["ls_colt"] = {
		Bone = "ValveBiped.Bip01_Pelvis",
		Data = {
			model = "models/weapons/w_ct1911a1.mdl",
			pos = Vector(10, -8, -5),
			ang = Angle(0, -90, 0),
			scale = 1
		}
	},
	["ls_riotshield"] = {
		Bone = "ValveBiped.Bip01_L_Hand",
		Data = {
			model = "models/bshields/rshield.mdl",
			pos = Vector(1, -5, 1),
			ang = Angle(90, 120, 90),
			scale = 0.88
		}
	},
	["ls_pewpew"] = {
		Bone = "ValveBiped.Bip01_Pelvis",
		Data = {
			model = "models/weapons/w_pistol.mdl",
			pos = Vector(2, -7.5, -0),
			ang = Angle(-56, 82, -65),
			scale = 1
		}
	},
	["ls_357"] = {
		Bone = "ValveBiped.Bip01_Pelvis",
		Data = {
			model = "models/weapons/w_iiopn357.mdl",
			pos = Vector(2, -8.2, -0),
			ang = Angle(90, 90, 90),
			scale = 0.9
		}
	},
	["ls_goldengun"] = {
		Bone = "ValveBiped.Bip01_Pelvis",
		Data = {
			model = "models/weapons/w_357.mdl",
			pos = Vector(-4, -8.2, -0),
			ang = Angle(90, -90, -90),
			scale = 0.9
		}
	},
	["ls_deagle"] = {
		Bone = "ValveBiped.Bip01_Pelvis",
		Data = {
			model = "models/weapons/w_deagle4.mdl",
			pos = Vector(9, -8.5, -4),
			ang = Angle(90, -90, -90),
			scale = 0.9
		}
	},
	["ls_teargas"] = {
		Bone = "ValveBiped.Bip01_Pelvis",
		Data = {
			model = "models/weapons/w_eq_smokegrenade.mdl",
			pos = Vector(-2, 7, 3),
			ang = Angle(-90, 0, -30),
			scale = 1
		}
	},
	["ls_molotov"] = {
		Bone = "ValveBiped.Bip01_Pelvis",
		Data = {
			model = "models/props_junk/glassbottle01a.mdl",
			pos = Vector(-2, 5, 3),
			ang = Angle(-90, 0, -30),
			scale = 0.75
		}
	},
	["ls_mp7"] = {
		Bone = "ValveBiped.Bip01_Spine",
		Data = {
			model = "models/weapons/w_iiopnsmg1.mdl",
			pos = Vector(2.5, 10, 1),
			ang = Angle(195, 0, 150),
			scale = 0.88
		}
	},
	["ls_mp5k"] = {
		Bone = "ValveBiped.Bip01_Spine",
		Data = {
			model = "models/weapons/w_mp5k.mdl",
			pos = Vector(5, 12, -1),
			ang = Angle(195, -5, 150),
			scale = 0.88
		}
	},
	["ls_osr"] = {
		Bone = "ValveBiped.Bip01_Spine",
		Data = {
			model = "models/tnb/weapons/w_cisr.mdl",
			pos = Vector(4.8, 12, -6),
			ang = Angle(195, -5, 150),
			scale = 0.88
		}
	},
	["ls_ar2"] = {
		Bone = "ValveBiped.Bip01_Spine",
		Data = {
			model = "models/weapons/w_iiopnirifle.mdl",
			pos = Vector(4.8, 12, -6),
			ang = Angle(195, -5, 150),
			scale = 0.88
		}
	},
	["ls_oicw"] = {
		Bone = "ValveBiped.Bip01_Spine",
		Data = {
			model = "models/weapons/tfa_misc/w_oicw.mdl",
			pos = Vector(4.8, 16, -3),
			ang = Angle(195, -5, 150),
			scale = 0.88
		}
	},
	["ls_ak74"] = {
		Bone = "ValveBiped.Bip01_Spine",
		Data = {
			model = "models/weapons/w_ak74_inss.mdl",
			pos = Vector(5, 6, -2.5),
			ang = Angle(195, 0, 150),
			scale = 0.88
		}
	},
	["ls_m16a1"] = {
		Bone = "ValveBiped.Bip01_Spine",
		Data = {
			model = "models/weapons/w_tfa_m16r_vietnam_hd.mdl",
			pos = Vector(3.5, 20, -6),
			ang = Angle(195, -5, 150),
			scale = 0.88
		}
	},
	["ls_mini14"] = {
		Bone = "ValveBiped.Bip01_Spine",
		Data = {
			model = "models/weapons/w_tfa_mni14c.mdl",
			pos = Vector(4, 6, 1.5),
			ang = Angle(190, 5, -10),
			scale = 0.88
		}
	},
	["ls_m14"] = {
		Bone = "ValveBiped.Bip01_Spine",
		Data = {
			model = "models/weapons/w_dm_m14.mdl",
			pos = Vector(6, 7, 5.5),
			ang = Angle(180, 2, -30),
			scale = 0.88
		}
	},
	["ls_pickaxe"] = {
		Bone = "ValveBiped.Bip01_Spine",
		Data = {
			model = "models/props_mining/pickaxe01.mdl",
			pos = Vector(3.5, 25, -10),
			ang = Angle(0, 0, 60),
			scale = 0.88
		}
	},
	["ls_axe"] = {
		Bone = "ValveBiped.Bip01_Spine",
		Data = {
			model = "models/weapons/hl2meleepack/w_axe.mdl",
			pos = Vector(3.6, 10, -1),
			ang = Angle(-100, 5, -20),
			scale = 0.88
		}
	},
	["ls_pewpew2"] = {
		Bone = "ValveBiped.Bip01_Spine",
		Data = {
			model = "models/weapons/w_smg1.mdl",
			pos = Vector(2.5, 10, 1),
			ang = Angle(195, 0, 150),
			scale = 0.88
		}
	},
	["ls_spas12"] = {
		Bone = "ValveBiped.Bip01_Spine",
		Data = {
			model = "models/weapons/w_iiopnshotgun.mdl",
			pos = Vector(3.5, 10, 0),
			ang = Angle(0, 10, 30),
			scale = 0.88
		}
	},
	["ls_m60"] = {
		Bone = "ValveBiped.Bip01_Spine",
		Data = {
			model = "models/kali/weapons/m60.mdl",
			pos = Vector(4, 10, 1),
			ang = Angle(195, 0, 150),
			scale = 0.88
		}
	},
	["ls_medkit"] = {
		Bone = "ValveBiped.Bip01_Pelvis",
		Data = {
			model = "models/warz/items/medkit.mdl",
			pos = Vector(-1.55, 8, 2),
			ang = Angle(-90, 0, -60),
			scale = 0.85
		}
	}
}

local LocalPlayer = LocalPlayer
local pairs = pairs
local IsValid = IsValid
local function beltCheck(ent, isPanel)
	local ply = isPanel and LocalPlayer() or ent
	local weps = ply.GetWeapons(ply)
	local active = ply.GetActiveWeapon(ply)
	local activeClass = IsValid(active) and active:GetClass() or nil

	ply.OTABeltCos = ply.OTABeltCos or {}

	for v,k in pairs(ply.OTABeltCos) do
		if not ply:HasWeapon(v) then
			RemoveCosmetic(ply, ply, "belt_"..v)
			ply.OTABeltCos[v] = nil
		end
	end

	for v,k in pairs(weps) do
		local class = k.GetClass(k)
		local beltId = "belt_"..class

		if not beltData[class] then
			continue
		end

		if activeClass and activeClass == class then
			if ply.Cosmetics and ply.Cosmetics[beltId] then
				RemoveCosmetic(ply, ply, beltId)
				ply.OTABeltCos[class] = nil
			end

			continue
		end

		--if not ply.Cosmetics or not ply.Cosmetics[beltId] then
			MakeCosmetic(ply, nil, beltData[class].Bone, beltData[class].Data, beltId)
			ply.OTABeltCos[class] = true
		--end
	end
end

function PLUGIN:PostPlayerDraw(ply)
	if not ply.Alive(ply) or ply.Team(ply) != TEAM_OTA then 
		if ply.OTABeltCos then
			for v,k in pairs(ply.OTABeltCos) do
				RemoveCosmetic(ply, ply, "belt_"..v)
			end

			ply.OTABeltCos = nil
		end

		return 
	end

	beltCheck(ply)
end
